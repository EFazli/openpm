<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	    		xmlns:ui="http://java.sun.com/jsf/facelets"
	  			xmlns:h="http://java.sun.com/jsf/html"
	  			xmlns:f="http://java.sun.com/jsf/core"
	  			xmlns:p="http://primefaces.org/ui"
				template="/WEB-INF/templates/layout.xhtml">

<ui:define name="content">
	Project List
	<br />
	
	<h:form id="projectListForm">
			<p:dataTable var="_item" 
				value="#{projectQuery.resultList}"
				paginatorPosition="bottom" 
				rowsPerPageTemplate="5,10" 
				dir="rtl"
				sortBy="#{_item.id}" 
				rowIndexVar="rowId"
				emptyMessage="#{msgs['dataTable.emptyMessage']}" 
				paginator="true"
				rows="10" 
				id="projectListTable" 
				lazy="true"
				sortMode="multiple"
				styleClass="ui celled striped table" 
				rowStyleClass="center aligned"
				rowKey="#{_item.id}">
				
				<f:facet name="header">
					<p:commandButton id="btnCreate" value="Create" action="create" immediate="true" />
				</f:facet>
				
				
				<p:column selectionMode="multiple" style="width:50px;text-align:center"/>
				
				
				
				<p:column headerText="Name">
					<p:commandLink value="#{_item.name}" action="create"
						>
						<f:param value="#{_item.id}" name="id"></f:param>
					</p:commandLink>	
					
				</p:column>
				
				<p:column headerText="User">
					<p:outputLabel value="#{_item.owner.username}"></p:outputLabel>	
					
				</p:column>
				
								
			</p:dataTable>
		</h:form>
	
</ui:define>
</ui:composition>